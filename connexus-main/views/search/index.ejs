<%- layout("/layouts/boilerplate") -%>
<div class="container mt-3">
    <h3>Search Users</h3>
    <form action="/search" method="get">
        <div class="mb-3">
            <label for="location" class="form-label">Location</label>
            <input type="text" id="location" name="location" class="form-control" placeholder="Enter location">
        </div>
        <div class="mb-3">
            <label for="department" class="form-label">Department</label>
            <input type="text" id="department" name="department" class="form-control" placeholder="Enter department">
        </div>
        <div class="mb-3">
            <label for="year" class="form-label">Year</label>
            <input type="number" id="year" name="year" class="form-control" placeholder="Enter year">
        </div>
        <div class="mb-3">
            <label for="interests" class="form-label">Interests</label>
            <input type="text" id="interests" name="interests" class="form-control"
                placeholder="Enter common interests (comma-separated)">
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    <% if (users && users.length) { %>
    <h3>Results</h3>
    <ul class="list-group">
        <% users.forEach(user => { %>
        <li class="list-group-item">
            <strong>Name:</strong> <%= user.username %><br>
            <strong>Email:</strong> <%= user.email %><br>
            <strong>Location:</strong> <%= user.location %><br>
            <strong>Department:</strong> <%= user.department %><br>
            <strong>Year:</strong> <%= user.year %><br>
            <strong>Interests:</strong> <%= user.interests.join(', ') %>
        </li>
        <% }) %>
    </ul>
    <% } else if (users) { %>
    <p>No users found matching your criteria.</p>
    <% } %>
</div>